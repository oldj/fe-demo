/*! dot-line.js by oldj */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,i){"use strict";var n=i(1),o=function(t){return t&&t.__esModule?t:{default:t}}(n);window.DotBoard=o.default},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(2),s=function(t){return t&&t.__esModule?t:{default:t}}(r),h=function(){function t(e,i,o){var r=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n(this,t),this.el=e,this.width=i,this.height=o,this.dot_count=s.dot_count||Math.floor(Math.sqrt(i*o)/10),this.options=s,this.bgColor=s.bgColor||"#ffffff";var h=document.createElement("canvas");e.innerHTML="",h.width=this.width,h.height=this.height,e.appendChild(h),this.ctx=h.getContext("2d"),this.parseLineColorRGB(),this.makeDots(),setInterval(function(){return r.step()},30)}return o(t,[{key:"parseLineColorRGB",value:function(){var t=this.options,e=t.lineColor,i=t.dotColor;e=e||i||"#000000";var n=e.match(/#(\w\w)(\w\w)(\w\w)/),o=parseInt(n[1],16),r=parseInt(n[2],16),s=parseInt(n[3],16);this.options.lineColorRGB=[o,r,s]}},{key:"makeDots",value:function(){this.dots=[];for(var t=this.width,e=this.height,i=this.dot_count,n=this.options,o=this.dots,r=0;r<i;r++)o.push(new s.default(this,t*Math.random(),e*Math.random(),n))}},{key:"cal",value:function(){this.dots.map(function(t){return t.cal()})}},{key:"render",value:function(){var t=this.ctx,e=this.width,i=this.height,n=this.bgColor;t.fillStyle=n,t.rect(0,0,e,i),t.fill(),this.dots.map(function(t){return t.render()})}},{key:"step",value:function(){this.cal(),this.render()}}]),t}();e.default=h},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e,i,o){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n(this,t),this.board=e,this.ctx=e.ctx,this.x=i,this.y=o,this.r=Math.floor(3*Math.random()+3),this.color=r.dotColor||"#000000",this.lineColorRGB=r.lineColorRGB||[0,0,0],this.maxLineLength=r.maxLineLength||e.width/7;this.vx=Math.pow(1*(Math.random()-1),2)/1,this.vy=Math.pow(1*(Math.random()-1),2)/1;Math.abs(this.vx)<.1&&(this.vx=.1*(Math.random()>.5?1:-1)),Math.abs(this.vy)<.1&&(this.vx=.1*(Math.random()>.5?1:-1))}return o(t,[{key:"getNeighbors",value:function(){var t=this,e=this.board.dots,i=[],n=this.maxLineLength;return e.map(function(e){var o=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));o<=n&&i.push({dot:e,a:1-o/n})}),i}},{key:"cal",value:function(){this.neighbors=this.getNeighbors();var t=this.board,e=t.width,i=t.height,n=this.r;this.x+=this.vx,this.x<n?(this.x=n,this.vx*=-1):this.x>=e-n&&(this.x=e-n,this.vx*=-1),this.y+=this.vy,this.y<n?(this.y=n,this.vy*=-1):this.y>=i-n&&(this.y=i-n,this.vy*=-1)}},{key:"render",value:function(){var t=this.ctx,e=this.x,i=this.y,n=this.r,o=this.neighbors,r=this.lineColorRGB;o.map(function(n){t.beginPath(),t.strokeStyle="rgba("+r.join(", ")+", "+n.a+")",t.moveTo(e,i),t.lineTo(n.dot.x,n.dot.y),t.stroke()}),t.beginPath(),t.fillStyle=this.color,t.arc(e,i,n,0,2*Math.PI),t.fill()}}]),t}();e.default=r}])});
//# sourceMappingURL=dot-line.bundle.js.map